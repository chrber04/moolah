{
  "name": "api",
  "type": "module",
  "scripts": {
    "clean": "rimraf .turbo dist server node_modules .vite",
    "dev": "wrangler dev",
    "deploy": "wrangler deploy --minify",
    "test": "vitest run",
    "test:watch": "vitest",
    "test:ui": "vitest --ui",
    "typecheck": "tsc --noEmit",
    "format": "prettier --check .",
    "format:fix": "prettier --write .",
    "lint": "eslint .",
    "lint:fix": "eslint . --fix",
    "cf:typegen": "wrangler types -c ./wrangler.jsonc",
    "-": "----------- DB Schema & Migration -----------",
    "db:generate": "drizzle-kit generate",
    "db:studio": "drizzle-kit studio --config=drizzle.studio.config.ts",
    "--": "----------- Local DB Commands -----------",
    "db:migrate:local": "wrangler d1 migrations apply DB --local",
    "db:list:local": "wrangler d1 migrations list DB --local",
    "db:seed:local": "tsx src/database/seed/index.ts",
    "db:validate:local": "wrangler d1 execute DB --local --command=\"SELECT name FROM sqlite_master WHERE type='table';\"",
    "---": "---------- Staging DB Commands ----------",
    "db:migrate:staging": "wrangler d1 migrations apply DB --env staging --remote",
    "db:info:staging": "wrangler d1 info DB --env staging",
    "db:validate:staging": "wrangler d1 execute DB --env staging --remote --command=\"SELECT name FROM sqlite_master WHERE type='table';\"",
    "----": "---------- Production DB Commands ----------",
    "db:migrate:prod": "wrangler d1 migrations apply DB --env production --remote",
    "db:info:prod": "wrangler d1 info DB --env production",
    "db:validate:prod": "wrangler d1 execute DB --env production --remote --command=\"SELECT name FROM sqlite_master WHERE type='table';\"",
    "-----": "---------- DB Utilities ----------",
    "db:list": "wrangler d1 list"
  },
  "dependencies": {
    "@moolah/common": "workspace:^",
    "@moolah/contract": "workspace:^",
    "@moolah/contract-admin": "workspace:^",
    "@moolah/core": "workspace:^",
    "@moolah/database": "workspace:^",
    "@moolah/domain": "workspace:^",
    "arctic": "^3.7.0",
    "drizzle-orm": "^0.44.7",
    "hono": "^4.10.6",
    "jose": "^6.1.3",
    "marked": "^17.0.1",
    "valibot": "1.2.0"
  },
  "devDependencies": {
    "@cloudflare/workers-types": "^4.20251121.0",
    "@libsql/client": "^0.15.15",
    "@moolah/config-eslint": "workspace:^",
    "@moolah/config-prettier": "workspace:^",
    "@moolah/config-typescript": "workspace:^",
    "@types/node": "24.3.0",
    "@vitest/ui": "^3.1.1",
    "drizzle-kit": "0.31.7",
    "eslint": "9.39.1",
    "prettier": "3.7.4",
    "tsx": "^4.19.0",
    "typescript": "*",
    "vitest": "^3.1.1",
    "wrangler": "^4.4.0"
  }
}
